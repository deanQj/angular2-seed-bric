<section id="QuotedPrice" class="container" [ngStyle]="{'min-height': documentMinHeight}">

    <div class="weui-toptips weui-toptips_warn js_tooltips" style="display: none;">错误提示</div>

    <div class="head weui-flex" [hidden]="IsWeiXin">
        <img src="/assets/img/common/app-logo.png" alt="">
        <h3 class="weui-flex__item">委托找货</h3>
    </div>

    <form [formGroup]="quotedPriceForm">

        <div class="weui-cells weui-cells_form" [ngClass]="{'weui-cell_warn':formErrors.phone}">
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <input class="weui-input" type="text" placeholder="请输入您的联系方式"
                            formControlName="phone" required
                        >
                </div>
                <div class="weui-cell__ft" *ngIf="formErrors.phone">
                    <i class="weui-icon-warn"></i>
                </div>
            </div>
        </div>
        <div class="weui-cells__tips weui-cell_warn">
            <span [hidden]="!formErrors.phone">{{ formErrors.phone }}</span>
        </div>

        <div class="weui-cells weui-cells_form" [ngClass]="{'weui-cell_warn':formErrors.content}">
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <textarea class="weui-textarea" name="content" placeholder="请输入文本" rows="3"
                            formControlName="content" required
                        ></textarea>
                    <div class="weui-textarea-counter"><span>{{contentLength}}</span>/200</div>
                </div>
            </div>
        </div>
        <div class="weui-cells__tips weui-cell_warn">
            <span [hidden]="!formErrors.content">{{ formErrors.content }}</span>
        </div>

        <button type="submit" class="weui-btn weui-btn_orange send-msg" 
                [disabled]="quotedPriceForm.invalid"
                [ngClass]="{'weui-btn_disabled':quotedPriceForm.invalid}"
                (click)="onSubmit()"
            >提交需求</button>

    </form>


    <div class="foot" [hidden]="footState">
        <a href="javascript:;" class="btn-close" (click)="footState=true">
            <img src="/assets/img/common/foot-close.png" alt="">
        </a>
        <div  class="weui-flex">
            <a href="tel:4001698801" class="weui-flex__item">
                <img src="/assets/img/common/foot-man.png" alt="">
                <span>委托电话：400 16988 01</span>
            </a>
            <a href="tel:4001698801" class="btn">点击拨号</a>
        </div>
    </div>

</section>

<sd-dialog [message]="alertMessage"></sd-dialog>